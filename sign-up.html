<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Sign Up - Smart Vikoba</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet" />
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        primary: '#3B82F6'
      },
      borderRadius: { DEFAULT: '8px' }
    }
  }
};
</script>
</head>

<body class="bg-gray-50 min-h-screen">
<header class="bg-white shadow-sm border-b border-gray-100">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <div class="flex items-center space-x-4">
        <a href="sign.html" class="flex items-center space-x-2 text-gray-600 hover:text-primary transition-colors">
          <!-- <i class="ri-arrow-left-line text-xl"></i>
          <span>Back</span> -->
        </a>
        <h1 class="text-2xl font-['Pacifico'] text-primary">Smart Vikoba</h1>
      </div>
    </div>
  </div>
</header>

<main class="flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
<div class="max-w-md w-full space-y-8">
<div class="text-center">
  <h2 class="text-3xl font-bold text-gray-900">Create Account</h2>
  <p class="text-gray-600">Sign up for a Smart Vikoba account</p>
</div>

<form id="signupForm" class="space-y-4">
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
    <div class="relative">
      <i class="ri-user-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
      <input name="fullName" type="text" required placeholder="Enter your full name"
        class="w-full pl-10 pr-4 py-3 border border-gray-300 focus:ring-2 focus:ring-primary text-sm rounded">
    </div>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
    <div class="relative">
      <i class="ri-mail-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
      <input name="email" type="email" required placeholder="Enter your email"
        class="w-full pl-10 pr-4 py-3 border border-gray-300 focus:ring-2 focus:ring-primary text-sm rounded">
    </div>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
    <div class="relative">
      <i class="ri-lock-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
      <input id="password" name="password" type="password" required placeholder="Enter your password"
        class="w-full pl-10 pr-12 py-3 border border-gray-300 focus:ring-2 focus:ring-primary text-sm rounded">
      <button type="button" id="togglePassword" class="absolute right-3 top-1/2 -translate-y-1/2">
        <i class="ri-eye-line text-gray-400 hover:text-gray-600"></i>
      </button>
    </div>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
    <div class="relative">
      <i class="ri-lock-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
      <input id="confirmPassword" name="confirmPassword" type="password" required placeholder="Confirm your password"
        class="w-full pl-10 pr-12 py-3 border border-gray-300 focus:ring-2 focus:ring-primary text-sm rounded">
      <button type="button" id="toggleConfirmPassword" class="absolute right-3 top-1/2 -translate-y-1/2">
        <i class="ri-eye-line text-gray-400 hover:text-gray-600"></i>
      </button>
    </div>
  </div>

  <div class="flex items-center">
    <input name="termsAccepted" type="checkbox" required class="mr-2">
    <label class="text-sm text-gray-700">I agree to the <a href="#" class="text-primary hover:underline">Terms of Service</a> and <a href="#" class="text-primary hover:underline">Privacy Policy</a></label>
  </div>

  <button type="submit"
    class="w-full bg-primary text-white py-3 px-4 font-semibold hover:bg-blue-600 transition-colors rounded">
    Sign Up
  </button>
</form>

<!-- <div class="relative">
  <div class="absolute inset-0 flex items-center">
    <div class="w-full border-t border-gray-300"></div>
  </div>
  <div class="relative flex justify-center text-sm">
    <span class="px-4 bg-gray-50 text-gray-500">or continue with</span>
  </div>
</div>

<div class="space-y-3">
  <button type="button"
    class="w-full flex items-center justify-center px-4 py-3 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 rounded">
    <i class="ri-google-fill text-red-500 mr-3"></i> Continue with Google
  </button>
  <button type="button"
    class="w-full flex items-center justify-center px-4 py-3 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 rounded">
    <i class="ri-facebook-fill text-blue-600 mr-3"></i> Continue with Facebook
  </button>
  <button type="button"
    class="w-full flex items-center justify-center px-4 py-3 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 rounded">
    <i class="ri-apple-fill text-black mr-3"></i> Continue with Apple
  </button>
</div> -->

<div class="text-center">
  <p class="text-sm text-gray-600">
    Already have an account? 
    <a href="sign.html" class="text-primary hover:text-blue-600 font-medium transition-colors">Sign In</a>
  </p>
</div>
</div>
</main>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const form = document.getElementById('signupForm');
  const submitButton = form.querySelector('button[type="submit"]');
  const togglePassword = document.getElementById('togglePassword');
  const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
  const passwordInput = document.getElementById('password');
  const confirmPasswordInput = document.getElementById('confirmPassword');

  togglePassword.addEventListener('click', () => {
    const type = passwordInput.type === 'password' ? 'text' : 'password';
    passwordInput.type = type;
    togglePassword.querySelector('i').className =
      type === 'text' ? 'ri-eye-off-line text-gray-400 hover:text-gray-600' :
      'ri-eye-line text-gray-400 hover:text-gray-600';
  });

  toggleConfirmPassword.addEventListener('click', () => {
    const type = confirmPasswordInput.type === 'password' ? 'text' : 'password';
    confirmPasswordInput.type = type;
    toggleConfirmPassword.querySelector('i').className =
      type === 'text' ? 'ri-eye-off-line text-gray-400 hover:text-gray-600' :
      'ri-eye-line text-gray-400 hover:text-gray-600';
  });

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());
    data.termsAccepted = !!data.termsAccepted;

    submitButton.disabled = true;
    submitButton.innerText = 'Signing Up...';

    try {
      const response = await fetch('/api/register', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      const result = await response.json();

      if (response.ok) {
        alert(`${result.message}`);
        window.location.href = 'sign.html';
      } else {
        alert(` ${result.message}`);
      }
    } catch {
      alert('Network error, please try again.');
    }

    submitButton.disabled = false;
    submitButton.innerText = 'Sign Up';
  });
});
</script>
</body>
</html>
